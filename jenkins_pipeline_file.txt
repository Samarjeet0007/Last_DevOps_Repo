pipeline {
	agent any
	stages {
		stage('compilation:') {
			steps {
				bat 'nuget restore WebAppDotNet.sln'  
				bat "\"${tool 'MSBuild_On_Local'}\" WebAppDotNet.sln"
			}
		}
		stage('testing:') {
			steps {
				bat '"C:\\Users\\samarjeetkumar\\NUnit.ConsoleRunner.3.10.0\\tools\\nunit3-console.exe"' 
			}
		}
		stage('code_quality:') {
		environment {
		    scannerhome = tool 'Sonar-Scanner'
			sonar.projectName=sonar-first-project2
sonar.projectVersion=1.0
sonar.sources=WebAppDotNet
sonar.language=cs
soanr.sourceEncoding=UTF-8
		}
			steps {
				withSonarQubeEnv('sonarqube') {
					sh "${scannerhome}/bin/sonar-runner"
					sonar.projectKey=sonar-project2

				}
			}
		}
	}
}